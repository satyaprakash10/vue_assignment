{"ast":null,"code":"import _objectSpread from \"/Users/shivamvarma/Project/web/vue_assignment/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { HomeIcon, PlusIcon, TrashIcon, PencilIcon, EyeIcon, ChevronRightIcon, ViewGridIcon, MapIcon } from '@vue-hero-icons/solid';\nimport { mapActions, mapGetters } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: \"Users || Index\",\n  components: {\n    HomeIcon: HomeIcon,\n    PlusIcon: PlusIcon,\n    TrashIcon: TrashIcon,\n    PencilIcon: PencilIcon,\n    EyeIcon: EyeIcon,\n    ChevronRightIcon: ChevronRightIcon,\n    ViewGridIcon: ViewGridIcon,\n    MapIcon: MapIcon\n  },\n  data: function data() {\n    return {\n      pages: [{\n        name: 'Home',\n        href: '/',\n        current: false\n      }, {\n        name: 'Users',\n        href: '#',\n        current: true\n      }],\n      showUserListView: false,\n      showUserMapView: false,\n      headers: [{\n        text: 'Image',\n        align: 'start',\n        sortable: false,\n        value: 'image'\n      }, {\n        text: 'Name',\n        value: 'name'\n      }, {\n        text: 'Mobile',\n        value: 'mobile'\n      }, {\n        text: 'Email',\n        value: 'email'\n      }, {\n        text: 'Address',\n        value: 'address'\n      }, {\n        text: 'Actions',\n        value: 'actions'\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['getAllUsers'])),\n  mounted: function mounted() {\n    var _this = this;\n\n    this.fetchAllUsers();\n\n    if (this.getAllUsers) {\n      axios.get('http://localhost:3000/users').then(function (res) {\n        if (res) {\n          _this.initMap(res.data);\n        }\n      });\n    }\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions(['fetchAllUsers', 'deleteUser'])), {}, {\n    initMap: function initMap(users) {\n      var _this2 = this;\n\n      mapboxgl.accessToken = 'pk.eyJ1IjoiaGFzaWkiLCJhIjoiY2wwYWt4cjJ1MDF4YTNjbWptNzZwM2ZhZyJ9.9WUVDkgiL5lsqX95u0VAvA';\n      var map = new mapboxgl.Map({\n        container: 'map',\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-120.094292506456, 48.0250054263],\n        zoom: 10\n      });\n      var features = [];\n\n      for (var index = 0; index < users.length; index++) {\n        var element = users[index];\n        features.push({\n          type: 'Feature',\n          properties: {\n            description: \"\\n             <div class=\\\"flex justify-between space-x-4\\\">\\n               <img src=\\\"\".concat(element.image, \"\\\" class=\\\"w-10 h-10\\\" />\\n               <div>\\n                 <strong> \").concat(element.name, \"  </strong>\\n                 <p> \").concat(element.address, \" </p>\\n               </div>\\n             </div>\\n           \"),\n            property: element\n          },\n          geometry: {\n            type: 'Point',\n            coordinates: element.coordinates\n          }\n        });\n      }\n\n      map.on('load', function () {\n        map.addSource('places', {\n          type: 'geojson',\n          data: {\n            type: 'FeatureCollection',\n            features: features\n          }\n        }); // Add a marker on map to show the user details\n\n        map.addLayer({\n          id: 'places',\n          type: 'circle',\n          source: 'places',\n          paint: {\n            'circle-color': '#4264fb',\n            'circle-radius': 8,\n            'circle-stroke-width': 2,\n            'circle-stroke-color': '#ffffff'\n          }\n        });\n        var popup = new mapboxgl.Popup({\n          closeButton: false,\n          closeOnClick: false\n        });\n        map.on('mouseenter', 'places', function (e) {\n          map.getCanvas().style.cursor = 'pointer'; // Copy coordinates array.\n\n          var coordinates = e.features[0].geometry.coordinates.slice();\n          var description = e.features[0].properties.description;\n\n          while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n          }\n\n          popup.setLngLat(coordinates).setHTML(description).addTo(map);\n        });\n        map.on('mouseleave', 'places', function () {\n          map.getCanvas().style.cursor = '';\n          popup.remove();\n        });\n        map.on('click', 'places', function (e) {\n          _this2.show = true;\n          _this2.selectedProperty = JSON.parse(e.features[0].properties.property);\n        });\n        map.addSource('states', {\n          type: 'geojson',\n          data: 'https://docs.mapbox.com/mapbox-gl-js/assets/us_states.geojson'\n        });\n      });\n    },\n    removeUser: function removeUser(id) {\n      var _this3 = this;\n\n      this.deleteUser(id).then(function () {\n        _this3.$toastr.s('User deleted successfully');\n      }).catch(function (err) {\n        _this3.$toastr.e(err.response.data);\n      });\n    }\n  })\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqSA,SACAA,QADA,EAEAC,QAFA,EAGAC,SAHA,EAIAC,UAJA,EAKAC,OALA,EAMAC,gBANA,EAOAC,YAPA,EAQAC,OARA,QASA,uBATA;AAUA;AACA;AACA;AACAC,wBADA;AAGAC;AACAT,sBADA;AAEAC,sBAFA;AAGAC,wBAHA;AAIAC,0BAJA;AAKAC,oBALA;AAMAC,sCANA;AAOAC,8BAPA;AAQAC;AARA,GAHA;AAcAG;AAAA;AACAC,cACA;AAAAH;AAAAI;AAAAC;AAAA,OADA,EAEA;AAAAL;AAAAI;AAAAC;AAAA,OAFA,CADA;AAMAC,6BANA;AAOAC,4BAPA;AAQAC,gBACA;AACAC,qBADA;AAEAC,sBAFA;AAGAC,uBAHA;AAIAC;AAJA,OADA,EAOA;AAAAH;AAAAG;AAAA,OAPA,EAQA;AAAAH;AAAAG;AAAA,OARA,EASA;AAAAH;AAAAG;AAAA,OATA,EAUA;AAAAH;AAAAG;AAAA,OAVA,EAWA;AAAAH;AAAAG;AAAA,OAXA;AARA;AAAA,GAdA;AAqCAC,8BACAC,2BADA,CArCA;AAyCAC,SAzCA,qBAyCA;AAAA;;AACA;;AACA;AACAC;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,GAlDA;AAoDAC,2CACAC,2CADA;AAGAC,WAHA,mBAGAC,KAHA,EAGA;AAAA;;AACAC,6BACA,wFADA;AAGA;AACAC,wBADA;AAEAC,mDAFA;AAGAC,kDAHA;AAIAC;AAJA;AAOA;;AAEA;AACA;AACAC;AACAC,yBADA;AAEAC;AACAC,4HAEAC,aAFA,wFAIAA,YAJA,+CAKAA,eALA,mEADA;AAUAC;AAVA,WAFA;AAcAC;AACAL,yBADA;AAEAM;AAFA;AAdA;AAmBA;;AAEAC;AACAA;AACAP,yBADA;AAEAzB;AACAyB,qCADA;AAEAD;AAFA;AAFA,WADA,CASA;;AAEAQ;AACAC,sBADA;AAEAR,wBAFA;AAGAS,0BAHA;AAIAC;AACA,qCADA;AAEA,8BAFA;AAGA,oCAHA;AAIA;AAJA;AAJA;AAYA;AACAC,4BADA;AAEAC;AAFA;AAKAL;AACAA,mDADA,CAGA;;AACA;AACA;;AAEA;AACAD;AACA;;AAEAO;AACA,SAZA;AAcAN;AACAA;AACAM;AACA,SAHA;AAKAN;AACA;AACA;AACA,SAHA;AAKAA;AACAP,yBADA;AAEAzB;AAFA;AAIA,OAxDA;AAyDA,KAhGA;AAkGAuC,cAlGA,sBAkGAN,EAlGA,EAkGA;AAAA;;AACA,0BACAO,IADA,CACA;AACA;AACA,OAHA,EAIAC,KAJA,CAIA;AACA;AACA,OANA;AAOA;AA1GA;AApDA","names":["HomeIcon","PlusIcon","TrashIcon","PencilIcon","EyeIcon","ChevronRightIcon","ViewGridIcon","MapIcon","name","components","data","pages","href","current","showUserListView","showUserMapView","headers","text","align","sortable","value","computed","mapGetters","mounted","axios","methods","mapActions","initMap","users","mapboxgl","container","style","center","zoom","features","type","properties","description","element","property","geometry","coordinates","map","id","source","paint","closeButton","closeOnClick","popup","removeUser","then","catch"],"sourceRoot":"src/views/users","sources":["Index.vue"],"sourcesContent":["<template>\n  <div class=\"h-full\">\n    <!-- User breadcrumb  section -->\n    <div\n      class=\"px-4 py-3 mt-10 bg-white border-t-4 border-green-500 rounded-md shadow-lg\"\n    >\n      <nav class=\"\" aria-label=\"Breadcrumb\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <h1 class=\"font-sans text-xl font-bold sm:text-2xl\">Users List</h1>\n            <p class=\"mt-2 text-sm text-gray-700\">\n              A list of all the users in your account including their name,\n              title, email and phone.\n            </p>\n          </div>\n          <div class=\"mt-4 lg:mt-0\">\n            <router-link\n              to=\"/create\"\n              class=\"flex items-center justify-center px-4 py-3 pl-2 font-semibold text-center text-white transition-all duration-300 bg-green-500 border rounded-md hover:ease-in-out hover:bg-green-400 hover:bg-opacity-90 hover:shadow-lg\"\n            >\n              <PlusIcon class=\"w-6 h-6 mr-2\" />\n              Add New User\n            </router-link>\n          </div>\n        </div>\n\n        <nav class=\"flex mt-6 mb-2\" aria-label=\"Breadcrumb\">\n          <ol role=\"list\" class=\"flex items-center space-x-4\">\n            <li>\n              <div>\n                <a href=\"#\" class=\"text-gray-400 hover:text-gray-500\">\n                  <HomeIcon class=\"flex-shrink-0 w-5 h-5\" aria-hidden=\"true\" />\n                  <span class=\"sr-only\">Home</span>\n                </a>\n              </div>\n            </li>\n            <li v-for=\"page in pages\" :key=\"page.name\">\n              <div class=\"flex items-center\">\n                <ChevronRightIcon\n                  class=\"flex-shrink-0 w-5 h-5 text-gray-400\"\n                  aria-hidden=\"true\"\n                />\n                <a\n                  :href=\"page.href\"\n                  class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\"\n                  :aria-current=\"page.current ? 'page' : undefined\"\n                >\n                  {{ page.name }}\n                </a>\n              </div>\n            </li>\n          </ol>\n        </nav>\n      </nav>\n    </div>\n\n    <div class=\"flex items-center justify-between mt-10\">\n      <div>\n        <input\n          type=\"text\"\n          placeholder=\"Search...\"\n          class=\"w-full px-4 py-3 transition-all duration-500 ease-in-out transform bg-white border border-green-200 shadow-sm hover:shadow-lg sm:w-96 rounded-2xl hover:bg-green-50 focus:ring-offset-purple-200\"\n          name=\"\"\n          id=\"\"\n        />\n      </div>\n\n      <div class=\"flex items-center justify-end space-x-4\">\n        <ViewGridIcon\n          @click=\"showUserListView = true\"\n          class=\"w-12 h-12 p-2 text-white transition-all duration-500 ease-in bg-green-500 rounded-md shadow-md cursor-pointer hover:shadow-lg hover:bg-green-300\"\n        />\n        <MapIcon\n          @click=\"showUserMapView = true\"\n          class=\"w-12 h-12 p-2 text-white transition-all duration-500 ease-in bg-green-500 rounded-md shadow-md cursor-pointer hover:shadow-lg hover:bg-green-300\"\n        />\n      </div>\n    </div>\n\n    <hr class=\"w-full mx-auto mt-10 border-green-300 max-w-7xl\" />\n\n    <!-- User Table View -->\n\n    <div class=\"w-full px-5 py-2 mt-8\" v-show=\"showUserListView\">\n      <div class=\"\">\n        <div class=\"overflow-auto lg:overflow-visible\" v-if=\"getAllUsers\">\n          <table\n            style=\"width: 100%\"\n            class=\"table space-y-6 text-sm text-gray-600 border-separate\"\n          >\n            <thead class=\"w-full text-white bg-gray-800\" style=\"width: 100%\">\n              <tr class=\"uppercase\">\n                <th class=\"p-3 text-left\">ID</th>\n                <th class=\"p-3 text-left\">Image</th>\n                <th class=\"p-3 text-left\">First Name</th>\n                <th class=\"p-3 text-left\">Mobile</th>\n                <th class=\"p-3 text-left\">Email</th>\n                <th class=\"p-3 text-center\">Action</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              <tr\n                class=\"py-3 transition-all duration-500 bg-white border shadow cursor-pointer hover:border-b-4 group hover:border-green-500 hover:ease-out hover:bg-gray-200 hover:text-green-500 hover:shadow-xl\"\n                v-for=\"(user, userIdx) in getAllUsers\"\n                :key=\"userIdx\"\n              >\n                <td class=\"px-4\">\n                  <div\n                    class=\"w-10 h-10 p-2 font-bold text-center bg-green-100 shadow-md group-hover:text-black group-hover:bg-gray-600 group-hover:bg-opacity-40\"\n                  >\n                    {{ user.id }}\n                  </div>\n                </td>\n                <td\n                  v-if=\"user.image\"\n                  class=\"\"\n                  @click=\"$router.push(`/${user.id}/edit`)\"\n                >\n                  <img\n                    :src=\"user.image\"\n                    class=\"w-20 h-20 rounded-full shadow-md\"\n                    alt=\"user_image\"\n                  />\n                </td>\n\n                <td class=\"\" v-else>\n                  <img\n                    src=\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\"\n                    class=\"w-20 h-20 rounded-full shadow-md\"\n                    alt=\"user_image\"\n                  />\n                </td>\n                <td\n                  class=\"p-3 text-base font-semibold text-left text-indigo-500 hover:text-black\"\n                  @click=\"$router.push(`/${user.id}/edit`)\"\n                >\n                  {{ user.name }}\n                </td>\n\n                <td class=\"max-w-sm p-3 font-bold truncate\">\n                  {{ user.mobile }}\n                </td>\n\n                <td class=\"max-w-sm p-3 font-bold truncate\">\n                  {{ user.email }}\n                </td>\n\n                <div\n                  class=\"flex items-center justify-center mt-4 space-x-4 text-center hover:cursor-pointer\"\n                >\n                  <td\n                    @click=\"$router.push(`/${user.id}`)\"\n                    class=\"w-10 h-10 px-2.5 transition-all duration-700 ease-in-out text-sm font-medium text-left text-gray-900 cursor-pointer hover:bg-gray-900 hover:bg-opacity-40 rounded-full hover:rounded-full hover:text-white hover:shadow-xl whitespace-nowrap\"\n                  >\n                    <EyeIcon class=\"w-5 h-5 mt-2\" />\n                  </td>\n                  <td\n                    @click=\"removeUser(user.id)\"\n                    class=\"w-10 h-10 px-2.5 transition-all duration-700 ease-in-out text-sm font-medium text-left text-gray-900 cursor-pointer hover:bg-gray-900 hover:bg-opacity-40 rounded-full hover:rounded-full hover:text-red-500 hover:shadow-xl whitespace-nowrap\"\n                  >\n                    <TrashIcon class=\"w-5 h-5 mt-2\" />\n                  </td>\n                  <td\n                    class=\"w-10 h-10 px-2.5 transition-all duration-700 ease-in-out text-sm font-medium text-left text-gray-900 cursor-pointer hover:bg-gray-900 hover:bg-opacity-40 rounded-full hover:rounded-full hover:text-white hover:shadow-xl whitespace-nowrap\"\n                  >\n                    <router-link :to=\"`/${user.id}/edit`\">\n                      <PencilIcon class=\"w-5 h-5 mt-2\" />\n                    </router-link>\n                  </td>\n                </div>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div v-else>\n          <div\n            class=\"px-6 py-6 mt-4 text-lg font-bold text-center text-gray-500 bg-gray-100 rounded-md shadow-md\"\n          >\n            <h3>No Users List found yet!</h3>\n            <div class=\"flex justify-center\">\n              <router-link\n                to=\"/user-create\"\n                class=\"flex px-4 py-3 mt-4 transition-all duration-300 border border-indigo-500 rounded-md w-52 hover:ease-in-out hover:bg-indigo-500 hover:bg-opacity-30 hover:shadow-lg\"\n              >\n                <PlusIcon class=\"w-6 h-6 ml-2 mr-3\" />\n\n                Add New User\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Users on Map View -->\n    <div class=\"mt-5\" v-show=\"showUserMapView\">\n      <div id=\"map\" style=\"width: 100%; height: 500px\"></div>\n    </div>\n\n    <div class=\"hidden mt-12\">\n      <v-card elevation=\"2\" class=\"p-10\">\n        <v-card-title>\n          <div class=\"flex justify-between\">\n            <span> User Index </span>\n\n            <button\n              type=\"button\"\n              class=\"inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              @click=\"$router.push('/create')\"\n            >\n              Create User\n            </button>\n          </div>\n        </v-card-title>\n\n        <v-card>\n          <v-data-table\n            dense\n            :headers=\"headers\"\n            :items=\"getAllUsers\"\n            hide-default-footer\n            item-key=\"name\"\n            class=\"elevation-1\"\n          >\n            <template v-slot:item.image=\"{ item }\">\n              <img :src=\"item.image\" class=\"w-20 h-20\" alt=\"\" />\n            </template>\n            <template v-slot:item.actions=\"{ item }\">\n              <div class=\"flex items-center justify-between space-x-2\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  class=\"w-6 h-6 text-blue-500 hover:text-blue-400\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  @click=\"$router.push(`/${item.id}`)\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                  />\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                  />\n                </svg>\n\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  class=\"w-6 h-6 text-indigo-500 hover:text-indigo-400\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  @click=\"$router.push(`/${item.id}/edit`)\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                  />\n                </svg>\n\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  class=\"w-6 h-6 text-red-500 hover:text-red-400\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  @click=\"removeUser(item.id)\"\n                >\n                  <path\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                  />\n                </svg>\n              </div>\n            </template>\n          </v-data-table>\n        </v-card>\n      </v-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  HomeIcon,\n  PlusIcon,\n  TrashIcon,\n  PencilIcon,\n  EyeIcon,\n  ChevronRightIcon,\n  ViewGridIcon,\n  MapIcon,\n} from '@vue-hero-icons/solid'\nimport { mapActions, mapGetters } from 'vuex'\nimport axios from 'axios'\nexport default {\n  name: `Users || Index`,\n\n  components: {\n    HomeIcon,\n    PlusIcon,\n    TrashIcon,\n    PencilIcon,\n    EyeIcon,\n    ChevronRightIcon,\n    ViewGridIcon,\n    MapIcon,\n  },\n\n  data: () => ({\n    pages: [\n      { name: 'Home', href: '/', current: false },\n      { name: 'Users', href: '#', current: true },\n    ],\n\n    showUserListView: false,\n    showUserMapView: false,\n    headers: [\n      {\n        text: 'Image',\n        align: 'start',\n        sortable: false,\n        value: 'image',\n      },\n      { text: 'Name', value: 'name' },\n      { text: 'Mobile', value: 'mobile' },\n      { text: 'Email', value: 'email' },\n      { text: 'Address', value: 'address' },\n      { text: 'Actions', value: 'actions' },\n    ],\n  }),\n\n  computed: {\n    ...mapGetters(['getAllUsers']),\n  },\n\n  mounted() {\n    this.fetchAllUsers()\n    if (this.getAllUsers) {\n      axios.get('http://localhost:3000/users').then((res) => {\n        if (res) {\n          this.initMap(res.data)\n        }\n      })\n    }\n  },\n\n  methods: {\n    ...mapActions(['fetchAllUsers', 'deleteUser']),\n\n    initMap(users) {\n      mapboxgl.accessToken =\n        'pk.eyJ1IjoiaGFzaWkiLCJhIjoiY2wwYWt4cjJ1MDF4YTNjbWptNzZwM2ZhZyJ9.9WUVDkgiL5lsqX95u0VAvA'\n\n      const map = new mapboxgl.Map({\n        container: 'map',\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-120.094292506456, 48.0250054263],\n        zoom: 10,\n      })\n\n      var features = []\n\n      for (let index = 0; index < users.length; index++) {\n        const element = users[index]\n        features.push({\n          type: 'Feature',\n          properties: {\n            description: `\n             <div class=\"flex justify-between space-x-4\">\n               <img src=\"${element.image}\" class=\"w-10 h-10\" />\n               <div>\n                 <strong> ${element.name}  </strong>\n                 <p> ${element.address} </p>\n               </div>\n             </div>\n           `,\n            property: element,\n          },\n          geometry: {\n            type: 'Point',\n            coordinates: element.coordinates,\n          },\n        })\n      }\n\n      map.on('load', () => {\n        map.addSource('places', {\n          type: 'geojson',\n          data: {\n            type: 'FeatureCollection',\n            features: features,\n          },\n        })\n\n        // Add a marker on map to show the user details\n\n        map.addLayer({\n          id: 'places',\n          type: 'circle',\n          source: 'places',\n          paint: {\n            'circle-color': '#4264fb',\n            'circle-radius': 8,\n            'circle-stroke-width': 2,\n            'circle-stroke-color': '#ffffff',\n          },\n        })\n\n        const popup = new mapboxgl.Popup({\n          closeButton: false,\n          closeOnClick: false,\n        })\n\n        map.on('mouseenter', 'places', (e) => {\n          map.getCanvas().style.cursor = 'pointer'\n\n          // Copy coordinates array.\n          const coordinates = e.features[0].geometry.coordinates.slice()\n          const description = e.features[0].properties.description\n\n          while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360\n          }\n\n          popup.setLngLat(coordinates).setHTML(description).addTo(map)\n        })\n\n        map.on('mouseleave', 'places', () => {\n          map.getCanvas().style.cursor = ''\n          popup.remove()\n        })\n\n        map.on('click', 'places', (e) => {\n          this.show = true\n          this.selectedProperty = JSON.parse(e.features[0].properties.property)\n        })\n\n        map.addSource('states', {\n          type: 'geojson',\n          data: 'https://docs.mapbox.com/mapbox-gl-js/assets/us_states.geojson',\n        })\n      })\n    },\n\n    removeUser(id) {\n      this.deleteUser(id)\n        .then(() => {\n          this.$toastr.s('User deleted successfully')\n        })\n        .catch((err) => {\n          this.$toastr.e(err.response.data)\n        })\n    },\n  },\n}\n</script>\n\n<style scoped>\n::-webkit-scrollbar {\n  width: 5px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 10px;\n  overflow: hidden;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n.table {\n  border-spacing: 0 18px;\n  width: 100%;\n}\n\ni {\n  font-size: 1rem !important;\n}\n\n.table tr {\n  border-radius: 20px;\n  border: gray;\n}\n\ntr td:nth-child(n + 10),\ntr th:nth-child(n + 10) {\n  border-radius: 0 0.625rem 0.625rem 0;\n}\n\ntr td:nth-child(n + 12),\ntr th:nth-child(n + 12) {\n  border-radius: 0.625rem 0 0 0.625rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}